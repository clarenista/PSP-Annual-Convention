<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

      html, body {
        margin: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      }

      a:link, a:visited{
        color: #bdc3c7;
      }

      .credit{
        position: absolute;
        text-align: center;
        width: 100%;
        padding: 20px 0;
        color: #fff;
      }

    </style>
    <title>Document</title>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/105/three.js" integrity="sha512-wi1en5HQFr/+nc03XLj7iJohyUcclImFC3U5uOjYE+CM6FTla7scwzbuy56+Z5sIZ3sZy1KuNdjLIid4vhJMzg==" crossorigin="anonymous"></script>
    <script src="/js/panolens.min.js"></script>


    <script>

        var viewer, panorama, container, infospot, infospot2, textureLoader, tex1, tex2, centerInfoSpot, logoInfospot;


        panorama= new PANOLENS.ImagePanorama( '/images/hallss.png' );
        viewer = new PANOLENS.Viewer( { output: 'console', autoHideInfospot: false } );

        // centerInfoSpot = new PANOLENS.Infospot(
        //   0,
        //   '',
        //   false
        // )
        // centerInfoSpot.position.set(4833.92, 1259.00, -39.04)
        // window.onload = function(){

        //   centerInfoSpot.focus();
        // }


        // Default infospot
        infospot = new PANOLENS.Infospot(
          4000,
          "/images/booth.png",
          false
        );
        infospot.position.set( 337.72, -463.31, -4958.48 );
        infospot.addHoverText( "Jester Gatdula Foundation", 200 );

        infospot.addEventListener( "click", function(){
          this.focus();
        } );

        logoInfospot = new PANOLENS.Infospot(
          1300,
          "https://images-na.ssl-images-amazon.com/images/I/61mtx+420hL._AC_US436_QL65_.jpg",
          false
        );
        logoInfospot.position.set( 337.72, -463.31, -4958.48 );

        // FIXED BOOTH START
        var cube = new THREE.Mesh( new THREE.BoxGeometry(700, 700, 700), new THREE.MeshBasicMaterial(
            { map: new THREE.TextureLoader().load( '/images/booth.png') ,transparent: true, opacity: 1} ) );
        cube.position.set(0, -150, 1000);
        rotateObject(cube,0,90,0);
        panorama.add( cube );
        // FIXED BOOTH END

// infospot.addEventListener( 'hoverenter', function( event ){
//   this.material.opacity = 0.6;
//   this.material.color.set( 0x00ff00 * Math.random() );
//   this.material.map = tex2;
//   this.scale.x *= 2;
//   this.scale.y *= 2;
// } );
// infospot.addEventListener( 'hoverleave', function( event ){
//   this.material.opacity = 1;
//   this.material.color.set( 0xffffff );
//   this.material.map = tex1;
//   this.scale.x /= 2;
//   this.scale.y /= 2;
// } );

// Custom infospot
// infospot2 = new PANOLENS.Infospot(
//   600,
//   "https://img.freepik.com/free-vector/realistic-illustration-empty-market-stall-with-red-white-striped-awning_1441-2557.jpg?size=338&ext=jpg", true
// );

// // infospot2.material.rotation = 30 * Math.PI / 180;
// infospot2.position.set( -1726.01, 1955.54, -4257.94 );
// infospot2.addHoverText( "Custom Infospot", 100 );
// infospot2.addEventListener( "click", function(){
//   this.focus();
// } );
// infospot2.addEventListener( 'hoverenter', function( event ){
//   this.material.opacity = 0.6;
//   this.material.color.set( 0x00ff00 * Math.random() );
//   this.material.map = tex2;
//   this.scale.x *= 2;
//   this.scale.y *= 2;
// } );
// infospot2.addEventListener( 'hoverleave', function( event ){
//   this.material.opacity = 1;
//   this.material.color.set( 0xffffff );
//   this.material.map = tex1;
//   this.scale.x /= 2;
//   this.scale.y /= 2;
// } );

        panorama.add( centerInfoSpot );
        panorama.add( logoInfospot );
        panorama.add( infospot );

        viewer.add( panorama );

        function rotateObject(object, degreeX=0, degreeY=0, degreeZ=0) {
            object.rotateX(THREE.Math.degToRad(degreeX));
            object.rotateY(THREE.Math.degToRad(degreeY));
            object.rotateZ(THREE.Math.degToRad(degreeZ));
        }
    </script>
</body>
</html>

